[![](https://img.plantuml.biz/plantuml/svg/hLVDRjj64BxxAHRkeGvW8Mc0f44FHIZ-f4eaKoLfDGKC62jo9I-yt5LtIJL9KQ15WHQzjayGv12aW8-zzCetoPDqXfJu8z798P8DYTgP-MPszflPqMEJKPtbgJZAU2OOcGgQqONIAIK98xOktYKyKoHHnE6KqFBz_Iz_anatnHj5BFr3pZEMvPeAmb8o52fMvkZ8N7Evefgc95RfIaacip1x2VYQnHcLIy5QAlKQ-Uc8a26DhvTQvJAnbL2QVEOzmZ-KA9qmlLbzKBvWrLE0pLynyiNzevyxdeNAatv8r_E-zBnToFlMW-4ZgmkIG3hcrDmMckSzS1_kubWF7mxltUlYhC2KBjbk4eu-9uDFU86vRKqinoAEIwPZAx8yFvXOvGbDl7D3JXoL5ZUIAqCy29kcS12KcpkVwdUp7N9y2rymW8eB7R_a1AEwSqoemVWknzRtRb2c5luR6g0e74rGwnYUlo8XJtD1YxT0kGjv4h2bBjt5nMiHvqAT4i5JeA4v9J6JnMiD-mKdUvYOd0RKmwW5VrNZsi0aJJC5CDGOBYdI6h_eZ2rm_Sxn7kHuD6mGntpET0M7uSqeq05m7MPOEbV287AiPCm5Hwr_MH_Yr0r3tsf07Pf05g40RS4XYmm3fGarcOPzhs43oGRh5CYAgeP9Kzoi6Uz33sq_S1lmW9jO4KR2M6b4dgY42GnpfKHna_4OD3aurP8Y6dBwa8mDV1jtMzB53f6lFZGK1dlRvkTWHBLf2bd3OscxUADgtoKfuU4sKgB86vy_zo_jm7L6aLzc4LQ1II9_0US3dKwmJBKBuKA66GNsv8A4T4aXmxNtDgd9-z__sk5ZkTGYrCvPOZGpQpnoBDjgHJ9hyQ4CI45_DnToKp8S7FDvNjn09e1Bcf6q-4zaV0LdNZQCVIVkywY17m4Lbjl4GMSdrdHaYFkY8iY57EQQqHnBHcPyeMcUCA0IrJ7ZMW4ueE-dSP2e7-NWwstLVrG7g_YZIb2NMszDcjeALPbzKAMibIqAvg57UF22SCwZgXwUAiWfr3bnpOh5nSq2Y_5WvT2BJawcMYKvT3e292MvWOkBjaQ2gd6NGTfH22NIOGkkNzh-MLZoPUC0I2WDNy8ZTbZJK7uGruBJ2xdeSBybsw5zvSEnkouSkq_B2g9DQTIAqCa1laVv6t_YTbJTT0KbR3AULaH_0hSuS9gM76vsEW0sx16nre0uFwnGXRZLgLcubPTHRQL0m4FJpH-6RZ2pXYFq2zzT4fvF_I1o3qQpaOGkWEqknxkKH914isRQmBHuuiyDqsiwvzYoe6SovCg2rmiLso36RaUknhgn_wJYsLWjeV6u0Yv47fExPAokENo4Av7Bw-DQV-96mSYkJ2R5EsY3CJOiu7lAiYkM6x2nKVCxciLNZLqKM715bMOGVCp0nbyn6J71m52_1BEdb2sPRapScNiMLIRk6hgi0fjdT75DGJUWypdF9j-MD2htq6bQkCzTGNqbeSbs6trMkxAEuMOVVNOxeexPPYzzPZkYbjaXI3grfiMVen1I5eqc41rIqmf9yMlWmWTmrOhEhUAFuZV_O5oDU0gN9YC1C_2BnTGyh2Q3oBKcUoqF5oyTTrOUDevvSgt4cYKmJ1cSqpI73beEukLbkZkGbURksPDB7DqhmiWbarSKx72AQ3elW4rfeginBtIU6HnvvpYdyHKJNEvDajl8_6cu2MxjhygOHdTj1ovewF9fFJWQjeJobCLRsWSJRYP6-Aocv5QHdcAwuBdu1yPQ2h6DH-PkEFRBQP4q2UebtgwmozXESWQQBw-oFe1zbGRcLfMwgxI3n5njGsaK-kNRIx2snoGD15jaVSPjORC1g9F7J2Ruu_j_)](https://editor.plantuml.com/uml/hLVDRjj64BxxAHRkeGvW8Mc0f44FHIZ-f4eaKoLfDGKC62jo9I-yt5LtIJL9KQ15WHQzjayGv12aW8-zzCetoPDqXfJu8z798P8DYTgP-MPszflPqMEJKPtbgJZAU2OOcGgQqONIAIK98xOktYKyKoHHnE6KqFBz_Iz_anatnHj5BFr3pZEMvPeAmb8o52fMvkZ8N7Evefgc95RfIaacip1x2VYQnHcLIy5QAlKQ-Uc8a26DhvTQvJAnbL2QVEOzmZ-KA9qmlLbzKBvWrLE0pLynyiNzevyxdeNAatv8r_E-zBnToFlMW-4ZgmkIG3hcrDmMckSzS1_kubWF7mxltUlYhC2KBjbk4eu-9uDFU86vRKqinoAEIwPZAx8yFvXOvGbDl7D3JXoL5ZUIAqCy29kcS12KcpkVwdUp7N9y2rymW8eB7R_a1AEwSqoemVWknzRtRb2c5luR6g0e74rGwnYUlo8XJtD1YxT0kGjv4h2bBjt5nMiHvqAT4i5JeA4v9J6JnMiD-mKdUvYOd0RKmwW5VrNZsi0aJJC5CDGOBYdI6h_eZ2rm_Sxn7kHuD6mGntpET0M7uSqeq05m7MPOEbV287AiPCm5Hwr_MH_Yr0r3tsf07Pf05g40RS4XYmm3fGarcOPzhs43oGRh5CYAgeP9Kzoi6Uz33sq_S1lmW9jO4KR2M6b4dgY42GnpfKHna_4OD3aurP8Y6dBwa8mDV1jtMzB53f6lFZGK1dlRvkTWHBLf2bd3OscxUADgtoKfuU4sKgB86vy_zo_jm7L6aLzc4LQ1II9_0US3dKwmJBKBuKA66GNsv8A4T4aXmxNtDgd9-z__sk5ZkTGYrCvPOZGpQpnoBDjgHJ9hyQ4CI45_DnToKp8S7FDvNjn09e1Bcf6q-4zaV0LdNZQCVIVkywY17m4Lbjl4GMSdrdHaYFkY8iY57EQQqHnBHcPyeMcUCA0IrJ7ZMW4ueE-dSP2e7-NWwstLVrG7g_YZIb2NMszDcjeALPbzKAMibIqAvg57UF22SCwZgXwUAiWfr3bnpOh5nSq2Y_5WvT2BJawcMYKvT3e292MvWOkBjaQ2gd6NGTfH22NIOGkkNzh-MLZoPUC0I2WDNy8ZTbZJK7uGruBJ2xdeSBybsw5zvSEnkouSkq_B2g9DQTIAqCa1laVv6t_YTbJTT0KbR3AULaH_0hSuS9gM76vsEW0sx16nre0uFwnGXRZLgLcubPTHRQL0m4FJpH-6RZ2pXYFq2zzT4fvF_I1o3qQpaOGkWEqknxkKH914isRQmBHuuiyDqsiwvzYoe6SovCg2rmiLso36RaUknhgn_wJYsLWjeV6u0Yv47fExPAokENo4Av7Bw-DQV-96mSYkJ2R5EsY3CJOiu7lAiYkM6x2nKVCxciLNZLqKM715bMOGVCp0nbyn6J71m52_1BEdb2sPRapScNiMLIRk6hgi0fjdT75DGJUWypdF9j-MD2htq6bQkCzTGNqbeSbs6trMkxAEuMOVVNOxeexPPYzzPZkYbjaXI3grfiMVen1I5eqc41rIqmf9yMlWmWTmrOhEhUAFuZV_O5oDU0gN9YC1C_2BnTGyh2Q3oBKcUoqF5oyTTrOUDevvSgt4cYKmJ1cSqpI73beEukLbkZkGbURksPDB7DqhmiWbarSKx72AQ3elW4rfeginBtIU6HnvvpYdyHKJNEvDajl8_6cu2MxjhygOHdTj1ovewF9fFJWQjeJobCLRsWSJRYP6-Aocv5QHdcAwuBdu1yPQ2h6DH-PkEFRBQP4q2UebtgwmozXESWQQBw-oFe1zbGRcLfMwgxI3n5njGsaK-kNRIx2snoGD15jaVSPjORC1g9F7J2Ruu_j_)
@startuml
title Plataforma de Crédito do Dia a Dia – Visão Arquitetural em Blocos

skinparam componentStyle rectangle
skinparam rectangle {
  BackgroundColor #F8F8F8
  BorderColor #555555
  FontSize 12
}

skinparam cloud {
  BackgroundColor #EFF7FF
  BorderColor #2A5B8A
}

skinparam database {
  BackgroundColor #FFF5E6
  BorderColor #A66B00
}

skinparam packageStyle rectangle

' ------------------------------------------------------------
' CAMADA DE PLATAFORMA – MFUs (Domínios Fundamentais)
' ------------------------------------------------------------
package "Plataforma de Crédito – Blocos Fundamentais (MFUs)" as MFU_LAYER {
  
  rectangle MFU_SIM as "MFU: Simulação\n(Regra de cálculo, limites, cenários)" 
  rectangle MFU_FORM as "MFU: Formalização\n(Contratos, assinaturas, artefatos)"
  rectangle MFU_LIB as "MFU: Liberação de Valor\n(Desembolsos, conciliações)"
  rectangle MFU_PESSOA as "MFU: Dados do Cliente\n(Cadastro, validações, dados sensíveis)"
  rectangle MFU_SCORE as "MFU: Risco e Score\n(Modelos, políticas internas)"

}

' ------------------------------------------------------------
' CAMADA DE PROCESSO – CSUs (Orquestrações)
' ------------------------------------------------------------
package "Camada de Orquestração – CSUs" as CSU_LAYER {
  
  rectangle CSU_FLUXO_CREDITO as "CSU: Fluxo Completo de Crédito\nStateful Saga\n(Orquestra Simulação → Formalização → Liberação)"
  rectangle CSU_VALIDACAO as "CSU: Validações Compostas\nRegra distribuída entre múltiplos MFUs"
  rectangle CSU_EXT as "CSU: Integração com APIs Externas\nBureaus, antifraude, parceiros"

  CSU_FLUXO_CREDITO -down-> MFU_SIM
  CSU_FLUXO_CREDITO -down-> MFU_FORM
  CSU_FLUXO_CREDITO -down-> MFU_LIB

  CSU_VALIDACAO -down-> MFU_PESSOA
  CSU_VALIDACAO -down-> MFU_SCORE

  CSU_EXT -down-> MFU_SCORE

}

' ------------------------------------------------------------
' CAMADA DE PRODUTO – Jornadas Específicas
' ------------------------------------------------------------
package "Jornadas Específicas (Produtos que usam a Plataforma)" as PRODUCTS {

  rectangle PROD_CONS as "Jornada Consignado\n(simulação-consignado,\nformalização-consignado)"
  rectangle PROD_CDC as "Jornada CDC"
  rectangle PROD_CARTAO as "Jornada Cartão"
  rectangle PROD_HOME as "Jornada Empréstimo com Garantia"

  PROD_CONS --> CSU_FLUXO_CREDITO
  PROD_CDC --> CSU_FLUXO_CREDITO
  PROD_CARTAO --> CSU_VALIDACAO
  PROD_HOME --> CSU_EXT

}

' ------------------------------------------------------------
' CAMADA DE OBSERVABILIDADE E SUPORTE
' ------------------------------------------------------------
package "Infraestrutura Transversal (Observabilidade e Confiabilidade)" as OBS_LAYER {
  
  cloud LOGS as "Logs\nElastic / Loki / Splunk"
  cloud METRICS as "Métricas\nPrometheus / CloudWatch"
  cloud TRACES as "Traces\nOpenTelemetry / Jaeger"
  cloud EVENTS as "Eventos\nKafka / RabbitMQ"

  LOGS -down-> MFU_LAYER
  LOGS -down-> CSU_LAYER

  METRICS -down-> MFU_LAYER
  METRICS -down-> CSU_LAYER

  TRACES -down-> MFU_LAYER
  TRACES -down-> CSU_LAYER

  EVENTS -down-> MFU_LAYER
  EVENTS -down-> CSU_LAYER

}

' ------------------------------------------------------------
' PAPÉIS / TIMES E SUAS ÁREAS DE ATUAÇÃO
' ------------------------------------------------------------
package "Times e Responsabilidades" as TEAMS {

  rectangle TEAM_DEV as "Desenvolvedores\n(Criam MFUs e CSUs)"
  rectangle TEAM_ENG_PLAT as "Engenharia de Plataforma\n(Padrões, SDKs, libs, pipelines)"
  rectangle TEAM_DEVOPS as "DevOps\n(CI/CD, automações, segurança)"
  rectangle TEAM_SRE as "SRE\n(Confiabilidade, Resiliência, SLIs/SLOs)"

  TEAM_DEV -down-> MFU_LAYER
  TEAM_DEV -down-> CSU_LAYER

  TEAM_ENG_PLAT -right-> MFU_LAYER
  TEAM_ENG_PLAT -right-> CSU_LAYER
  TEAM_ENG_PLAT -right-> OBS_LAYER

  TEAM_DEVOPS -down-> OBS_LAYER
  TEAM_DEVOPS -down-> PRODUCTS

  TEAM_SRE -left-> OBS_LAYER
  TEAM_SRE -left-> MFU_LAYER
}

@enduml
